import{p as W,m as F,d as B,g as U,G as z,aj as G,ak as O,al as q,_ as K,am as D,y as J,E as l,an as Y,s as p,o as V,c as Z,f as c,w as m,a as v,F as H,t as Q,v as X,A as tt,ao as et,ap as at,ah as nt,ai as ot}from"./index-PgG59Iuc.js";const k=["start","end","center"],b=["space-between","space-around","space-evenly"];function w(t,n){return O.reduce((e,s)=>{const a=t+q(s);return e[a]=n(),e},{})}const st=[...k,"baseline","stretch"],j=t=>st.includes(t),L=w("align",()=>({type:String,default:null,validator:j})),lt=[...k,...b],M=t=>lt.includes(t),P=w("justify",()=>({type:String,default:null,validator:M})),ut=[...k,...b,"stretch"],$=t=>ut.includes(t),E=w("alignContent",()=>({type:String,default:null,validator:$})),C={align:Object.keys(L),justify:Object.keys(P),alignContent:Object.keys(E)},ct={align:"align",justify:"justify",alignContent:"align-content"};function it(t,n,e){let s=ct[t];if(e!=null){if(n){const a=n.replace(t,"");s+=`-${a}`}return s+=`-${e}`,s.toLowerCase()}}const rt=W({dense:Boolean,noGutters:Boolean,align:{type:String,default:null,validator:j},...L,justify:{type:String,default:null,validator:M},...P,alignContent:{type:String,default:null,validator:$},...E,...F(),...B()},"VRow"),_=U()({name:"VRow",props:rt(),setup(t,n){let{slots:e}=n;const s=z(()=>{const a=[];let u;for(u in C)C[u].forEach(d=>{const i=t[d],y=it(u,d,i);y&&a.push(y)});return a.push({"v-row--no-gutters":t.noGutters,"v-row--dense":t.dense,[`align-${t.align}`]:t.align,[`justify-${t.justify}`]:t.justify,[`align-content-${t.alignContent}`]:t.alignContent}),a});return()=>{var a;return G(t.tag,{class:["v-row",s.value,t.class],style:t.style},(a=e.default)==null?void 0:a.call(e))}}}),dt=`${location.protocol}//${location.host}`,S=t=>(nt("data-v-e84bf9b0"),t=t(),ot(),t),gt=S(()=>v("span",null,"方圓",-1)),mt=S(()=>v("span",null,"公里以內",-1)),yt=S(()=>v("span",null,"價格預算",-1)),ft={class:"d-flex justify-center mt-8"},pt={__name:"WhatFood",setup(t){const n=D(),e=J();l(n.name==="WhatFood"?"food":"drink"),l(n.name==="WhatDrink");const s=l(n.name==="WhatFood"),a=l(0),u=l(0),d=l([]);n.name,Y(()=>{navigator.geolocation.getCurrentPosition(g=>{a.value=g.coords.latitude,u.value=g.coords.longitude})});const i=l(1),y=[1,2,4,6,8,10,15,20],f=l(0),N=l([{text:"吃土",value:0},{text:"月底",value:1},{text:"還有些錢",value:2},{text:"剛發薪",value:3},{text:"土豪",value:4},{text:"隨便 (不進行價格篩選)",value:5}]),A=async()=>{await e.openLoader();const g={key:e.apiKey,query:"飲料",location:`${a.value},${u.value}`,radius:i.value*1e3,language:"zh-TW",opennow:!0},r={key:e.apiKey,query:"美食",location:`${a.value},${u.value}`,radius:i.value*1e3,language:"zh-TW",opennow:!0,...f.value!==5&&{maxprice:f.value}};et.post(`${at}/api/places_nearbysearch`,s.value?r:g).then(o=>{if(o.data.status==="OK"||o.data.status==="ZERO_RESULTS")o.data.results,d.value=o.data.results;else throw new Error(o.data.status)}).catch(o=>{e.openModal({name:"error",text:`${o}<br>請聯絡開發者`})}).finally(()=>{e.closeLoader()})},x=l(600);return(g,r)=>{const o=p("MySelect"),I=p("MyButton"),R=p("MySheet"),T=p("MyLuckyWheel");return V(),Z(H,null,[c(R,{class:"mx-auto my-auto","max-width":"600"},{default:m(()=>[c(_,{"no-gutters":"",align:"center",justify:"start",class:"mb-4 ga-3"},{default:m(()=>[gt,c(o,{modelValue:i.value,"onUpdate:modelValue":r[0]||(r[0]=h=>i.value=h),items:y},null,8,["modelValue"]),mt]),_:1}),s.value?(V(),Q(_,{key:0,"no-gutters":"",align:"center",justify:"start",class:"mb-4 ga-3"},{default:m(()=>[yt,c(o,{modelValue:f.value,"onUpdate:modelValue":r[1]||(r[1]=h=>f.value=h),"item-title":"text","item-value":"value",items:N.value},null,8,["modelValue","items"])]),_:1})):X("",!0),c(_,{"no-gutters":"",align:"center",justify:"center",class:"mt-16"},{default:m(()=>[c(I,{class:"w-50",onClick:A},{default:m(()=>[tt("產生轉盤內容")]),_:1})]),_:1})]),_:1}),v("div",ft,[c(T,{prizes:d.value,width:x.value,height:x.value,wordWrap:!0},null,8,["prizes","width","height"])])],64)}}},ht=K(pt,[["__scopeId","data-v-e84bf9b0"]]);export{ht as default};
